<html>
<head>
  <title>Chiquadrat</title>
  <meta charset="utf-8"/>
<script type="application/ecmascript">
function ausrechnen() {
  var P=[];
  for (var i=1;i<6;i++) {
    P[i]=[
      document.getElementById("P"+i+"x").value*1.0,
      document.getElementById("P"+i+"y").value*1.0,
      document.getElementById("P"+i+"z").value*1.0
      ];
    }
  //alert(P.join("\n"));
  var P6i=document.getElementById("P6i").value*1.0;
  var P6j=document.getElementById("P6j").value*1.0;
  var P6w=document.getElementById("P6w").value*1.0;
  var P6m=document.getElementById("P6m").value*1.0;
  var P6h=document.getElementById("P6h").value*1.0;
  //alert(P6i+" "+P6j+" "+P6w+" "+P6m);
  var Richtung=Math.atan2(P[P6j][1]-P[P6i][1],P[P6j][0]-P[P6i][0]);
  //alert(Richtung*180/Math.PI);
  var neueRichtung=Richtung+P6w*Math.PI/180;
  var P6=[
    P[P6i][0]+P6m*Math.cos(neueRichtung),
    P[P6i][1]+P6m*Math.sin(neueRichtung),
    P[P6i][2]+P6h
    ];
  //alert(P6);
  document.getElementById("P6x").firstChild.nodeValue=P6[0];
  document.getElementById("P6y").firstChild.nodeValue=P6[1];
  document.getElementById("P6z").firstChild.nodeValue=P6[2];
  }
  </script>
  </head>
<body onload="ausrechnen()" onkeyup="ausrechnen()">
<p>
</p>
<table>
<tbody>
  <tr>
    <td id="P1">P1=[</td>
    <td><input id="P1x" size="10" value="10"/></td>
    <td>,</td>
    <td><input id="P1y" size="10" value="3"/></td>
    <td>,</td>
    <td><input id="P1z" size="10" value="8"/></td>
    <td>]</td>
    </tr>
  <tr>
    <td id="P2">P2=[</td>
    <td><input id="P2x" size="10" value="20"/></td>
    <td>,</td>
    <td><input id="P2y" size="10" value="4"/></td>
    <td>,</td>
    <td><input id="P2z" size="10" value="7"/></td>
    <td>]</td>
    </tr>
  <tr>
    <td id="P3">P3=[</td>
    <td><input id="P3x" size="10" value="30"/></td>
    <td>,</td>
    <td><input id="P3y" size="10" value="5"/></td>
    <td>,</td>
    <td><input id="P3z" size="10" value="6"/></td>
    <td>]</td>
    </tr>
  <tr>
    <td id="P4">P4=[</td>
    <td><input id="P4x" size="10" value="40"/></td>
    <td>,</td>
    <td><input id="P4y" size="10" value="6"/></td>
    <td>,</td>
    <td><input id="P4z" size="10" value="5"/></td>
    <td>]</td>
    </tr>
  <tr>
    <td id="P5">P5=[</td>
    <td><input id="P5x" size="10" value="50"/></td>
    <td>,</td>
    <td><input id="P5y" size="10" value="7"/></td>
    <td>,</td>
    <td><input id="P5z" size="10" value="4"/></td>
    <td>]</td>
    </tr>
  </tbody></table>
<ul>
  <ul>P6:
    <li>in P<input id="P6i" size="1" value="1"/> hinstellen</li>
    <li>und in Richtung P<input id="P6j" size="1" value="2"/> schauen,</li> 
    <li>dann um<input id="P6w" size="2" value="90"/>Â° gegen Uhrzeigersinn drehen</li>
    <li>und horizontal um<input id="P6m" size="2" value="1"/>m weitergehen</li>
    <li>und hoch(+) oder tief(-) um<input id="P6h" size="2" value="0"/>m</li>
    <li>ergibt P6=[<span id="P6x"> </span>,<span id="P6y"> </span>,<span id="P6z"> </span>].</li>
    </ul>
  </ul>
<p></p>
  </body>
  </html>
